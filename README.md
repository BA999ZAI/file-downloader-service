# File Downloader Service

Веб-сервис для асинхронной загрузки файлов по URL с возможностью отслеживания статуса задач.

## Архитектура

Проект реализован по принципам чистой архитектуры (Clean Architecture):

### Слои архитектуры:

1. **Entity** - бизнес-сущности (Task, FileResult)
2. **Use Case** - бизнес-логика (TaskUseCase)
3. **Interface Adapters** - контроллеры, репозитории
4. **Frameworks & Drivers** - Gin, HTTP клиент

### Основные компоненты:

- **Entity**: Определяет структуры данных
- **Repository**: Абстракция для работы с данными
- **UseCase**: Бизнес-логика обработки задач
- **Service**: Промежуточный слой между контроллерами и use case
- **Controller**: Обработка HTTP запросов

## Особенности реализации

### Обработка перезагрузки сервиса

1. **Восстановление состояния**: При запуске сервис проверяет задачи со статусом "processing" и переводит их в статус "pending"
2. **Грациозная остановка**: При получении сигнала SIGINT/SIGTERM сервис корректно завершает текущие загрузки
3. **Атомарные операции**: Обновление статуса задач происходит атомарно

### Паттерны и практики

1. **Dependency Injection**: Все зависимости передаются через конструкторы
2. **Interface Segregation**: Каждый компонент работает через интерфейсы
3. **Single Responsibility**: Каждый компонент отвечает за одну задачу
4. **Goroutine Management**: Управление горутинами через WaitGroup и каналы

## API Endpoints

### Создание задачи загрузки

```http
POST /api/v1/tasks
Content-Type: application/json

{
    "urls": [
        "https://example.com/file1.pdf",
        "https://example.com/file2.jpg"
    ]
}